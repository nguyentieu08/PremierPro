<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PREMIER PRO</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Ngăn chặn việc bôi đen văn bản */
        body { 
            background-color: #050505; 
            color: #fff; 
            font-family: sans-serif; 
            user-select: none; 
            -webkit-user-select: none;
            -ms-user-select: none;
        }
        #player-box { 
            width: 100%; 
            aspect-ratio: 16/9; 
            background: #000; 
            border-radius: 24px; 
            overflow: hidden; 
            display: none; 
            border: 1px solid rgba(255,255,255,0.1); 
        }
        /* Hiệu ứng loading giả lập để đánh lạc hướng */
        .security-scan {
            font-size: 10px;
            color: #22c55e;
            font-family: monospace;
        }
    </style>
    <script>
        /**
         * LỚP BẢO VỆ 1: CHẶN VIEW-SOURCE QUA URL
         * Lưu ý: Trình duyệt hiện đại chặn truy cập trực tiếp vào view-source từ script, 
         * nhưng đoạn mã này giúp ngăn chặn các nỗ lực truy cập gián tiếp.
         */
        if (window.location.href.includes('view-source:')) {
            window.location.href = 'about:blank';
        }

        /**
         * LỚP BẢO VỆ 2: CHẶN CHUỘT PHẢI VÀ PHÍM TẮT
         */
        document.addEventListener('contextmenu', event => event.preventDefault());
        
        document.onkeydown = function(e) {
            // Chặn F12
            if (e.keyCode == 123) return false;
            // Chặn Ctrl+Shift+I (Inspect)
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) return false;
            // Chặn Ctrl+Shift+C (Inspect Element)
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) return false;
            // Chặn Ctrl+Shift+J (Console)
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) return false;
            // Chặn Ctrl+U (View Source)
            if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
            // Chặn Ctrl+S (Save Page)
            if (e.ctrlKey && e.keyCode == 'S'.charCodeAt(0)) return false;
        };

        /**
         * LỚP BẢO VỆ 3: DEBUGGER TRAP
         * Nếu người dùng mở được DevTools, lệnh debugger sẽ làm treo luồng xử lý của họ.
         */
        setInterval(function() {
            (function() {
                return false;
            }['constructor']('debugger')['call']());
        }, 500);
    </script>
</head>
<body>
    <div class="flex flex-col items-center p-6 min-h-screen">
        <!-- Tiêu đề -->
        <div class="w-full max-w-lg mt-12 text-center">
            <h1 class="text-4xl font-black italic tracking-tighter">
                PREMIER <span class="text-red-600">PRO</span>
            </h1>
            <p class="text-gray-500 text-[10px] uppercase tracking-[0.3em] mt-3 font-bold">
                Hệ thống phát nhạc không quảng cáo
            </p>
            <div class="security-scan mt-2">SECURE CONNECTION ESTABLISHED</div>
        </div>
        
        <!-- Khu vực nhập link -->
        <div class="w-full max-w-lg mt-12 space-y-6">
            <div class="relative group">
                <input type="text" id="videoUrl" placeholder="Dán link video YouTube tại đây..." 
                    class="w-full bg-[#111] border border-white/10 rounded-2xl py-5 px-6 outline-none focus:border-red-600 focus:ring-4 focus:ring-red-600/5 transition-all text-sm">
                <button onclick="startPlayback()" class="absolute right-3 top-1/2 -translate-y-1/2 bg-red-600 hover:bg-red-700 p-3 rounded-xl active:scale-90 transition-all">
                    <i data-lucide="play" class="w-5 h-5 fill-white text-white"></i>
                </button>
            </div>

            <!-- Trình phát video -->
            <div id="player-box" class="shadow-2xl">
                <div id="player"></div>
            </div>

            <!-- Bảng thông tin tính năng -->
            <div id="status-panel" class="hidden bg-[#111] border border-white/10 p-6 rounded-[28px] space-y-4 shadow-xl">
                <div class="flex items-center justify-between border-b border-white/5 pb-4">
                    <span class="text-[10px] font-black text-green-500 tracking-[0.2em]">AN NINH: ĐÃ KÍCH HOẠT</span>
                    <i data-lucide="shield-check" class="w-4 h-4 text-blue-500"></i>
                </div>
                <div class="space-y-3">
                    <div class="flex items-center gap-3 text-xs text-gray-400 font-medium">
                        <i data-lucide="check" class="w-4 h-4 text-red-500"></i>
                        <span>Bypass lỗi YouTube 150/153 thành công</span>
                    </div>
                    <div class="flex items-center gap-3 text-xs text-gray-400 font-medium">
                        <i data-lucide="check" class="w-4 h-4 text-red-500"></i>
                        <span>Phát âm thanh trong nền (Background)</span>
                    </div>
                </div>
                <p class="text-[10px] text-gray-500 italic mt-4 leading-relaxed">
                    Lưu ý: Nếu thoát ra màn hình chính nhạc dừng, hãy mở trung tâm thông báo và nhấn Play để tiếp tục.
                </p>
            </div>
        </div>
    </div>

    <script>
        // Tải YouTube IFrame API
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        document.head.appendChild(tag);

        var player;
        lucide.createIcons();

        function extractId(url) {
            const regex = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;
            const match = url.match(regex);
            return (match && match[2].length === 11) ? match[2] : null;
        }

        function startPlayback() {
            const urlValue = document.getElementById('videoUrl').value;
            const videoId = extractId(urlValue);

            if (!videoId) {
                alert("Vui lòng nhập đúng link YouTube!");
                return;
            }

            document.getElementById('player-box').style.display = 'block';
            document.getElementById('status-panel').classList.remove('hidden');

            if (player && typeof player.loadVideoById === 'function') {
                player.loadVideoById(videoId);
            } else {
                player = new YT.Player('player', {
                    height: '100%',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'autoplay': 1,
                        'playsinline': 1,
                        'modestbranding': 1,
                        'rel': 0,
                        'origin': window.location.origin
                    },
                    events: {
                        'onReady': (event) => event.target.playVideo()
                    }
                });
            }

            // Hỗ trợ Media Session (Màn hình khóa)
            if ('mediaSession' in navigator) {
                navigator.mediaSession.metadata = new MediaMetadata({
                    title: "Premier Pro Player",
                    artist: "Hệ thống Bypass",
                    artwork: [{ src: `https://i.ytimg.com/vi/${videoId}/hqdefault.jpg`, type: 'image/jpg' }]
                });
            }
        }

        // Hỗ trợ phím Enter
        document.getElementById('videoUrl').onkeydown = (e) => { if(e.key === 'Enter') startPlayback(); };
    </script>
</body>
</html>

